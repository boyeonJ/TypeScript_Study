# íƒ€ì…ê°€ë“œë€?
> ğŸ‘©â€ ë‹´ë‹¹ì: ì •ë³´ì—°<br/>

íƒ€ì… ê°€ë“œ(Type Guard)ëŠ” TypeScriptì—ì„œ **ë³€ìˆ˜ì˜ íƒ€ì…ì„ ì¢íˆëŠ” ë° ì‚¬ìš©**ë˜ëŠ” ë©”ì»¤ë‹ˆì¦˜ì…ë‹ˆë‹¤. TypeScriptëŠ” ì •ì  íƒ€ì… ì–¸ì–´ë¡œì„œ ë³€ìˆ˜ì˜ íƒ€ì…ì„ ì»´íŒŒì¼ íƒ€ì„ì— ê²°ì •í•©ë‹ˆë‹¤. í•˜ì§€ë§Œ ë•Œë¡œëŠ” ëŸ°íƒ€ì„ì—ì„œ ë³€ìˆ˜ì˜ íƒ€ì…ì´ ë” êµ¬ì²´ì ì´ê±°ë‚˜ ì œí•œì ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŸ° ê²½ìš°ë¥¼ ë‹¤ë£¨ê¸° ìœ„í•´ íƒ€ì… ê°€ë“œë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.

íƒ€ì… ê°€ë“œë¥¼ ì‚¬ìš©í•˜ë©´ ë³€ìˆ˜ì˜ íƒ€ì…ì„ ë” êµ¬ì²´ì ì¸ íƒ€ì…ìœ¼ë¡œ ì¢íˆê±°ë‚˜ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë¥¼ í†µí•´ íƒ€ì… ì‹œìŠ¤í…œì´ ë³€ìˆ˜ì˜ íƒ€ì…ì„ ì •í™•íˆ ì¶”ë¡ í•  ìˆ˜ ìˆê²Œ ë˜ë©°, ì½”ë“œ ì•ˆì „ì„±ê³¼ ê°€ë…ì„±ì„ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ê°€ì¥ ì¼ë°˜ì ì¸ íƒ€ì… ê°€ë“œ í˜•íƒœëŠ” `typeof`, `instanceof`, `in`, ê·¸ë¦¬ê³  ì‚¬ìš©ì ì •ì˜ í•¨ìˆ˜(íƒ€ì… ê°€ë“œ í•¨ìˆ˜)ì…ë‹ˆë‹¤. 

> íƒ€ì…ë‹¨ì–¸ìœ¼ë¡œë„ íƒ€ì…ì„ ì¢í ìˆ˜ ìˆì§€ë§Œ ì‹¤í–‰ì‹œì ì—ì„œì˜ ì—ëŸ¬ê°€ ë°œìƒí•  ê°€ëŠ¥ì„±ì´ ìˆìœ¼ë©° íƒ€ì…ë‹¨ì–¸ ë¬¸ë²•ì„ ë¶ˆí•„ìš”í•˜ê²Œ ë°˜ë³µì ìœ¼ë¡œ ì‚¬ìš©í•˜ì—¬ì•¼ í•œë‹¤ëŠ” ë‹¨ì ì´ ìˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ íƒ€ì…ë‹¨ì–¸ë³´ë‹¤ëŠ” íƒ€ì…ê°€ë“œë¥¼ ì‚¬ìš©í•˜ëŠ”ê²ƒì´ ê¶Œì¥ë©ë‹ˆë‹¤.

## íƒ€ì…ê°€ë“œ ë¬¸ë²•

íƒ€ì…ê°€ë“œ ë¬¸ë²•ìœ¼ë¡œëŠ” typeof, instanceof, in ë“±ì´ ìˆìŠµë‹ˆë‹¤. ì´ ë¬¸ë²•ì€ ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ ë¬¸ë²•ì´ë©° ì´ë¥¼ í™œìš©í•˜ì—¬ íƒ€ì… ê°€ë“œë¥¼ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

> **typeof A**: A íƒ€ì…ì„ ë¬¸ìì—´ë¡œ ë°˜í™˜ <br/>
> **A instanceof B**: Bì˜ í”„ë¡œí† íƒ€ì… ì²´ì¸ì— Aê°€ í¬í•¨ë˜ì—ˆëŠ”ì§€ boolean ë°˜í™˜ (Aê°€ Bì˜ ì¸ìŠ¤í„´ìŠ¤ì¸ì§€ í™•ì¸)<br/>
> **a in A**: Aì˜ ì†ì„±ì¤‘ì— aê°€ ìˆëŠ”ì§€ boolean ë°˜í™˜ 

### typeofë¥¼ ì‚¬ìš©í•œ íƒ€ì… ê°€ë“œ
```typescript
function getNumber(value: string | number): void {
  if (typeof value === "string") {
    console.log(value.length); 
  } else {
    console.log(value); 
  }
}
```

### instanceofë¥¼ ì‚¬ìš©í•œ íƒ€ì… ê°€ë“œ
```typescript
class Person {
  name: string;
  constructor(name: string) {
    this.name = name;
  }
}

class Animal {
  type: string;
  constructor(type: string) {
    this.type = type;
  }
}

function printDetails(obj: Person | Animal): void {
  if (obj instanceof Person) {
    console.log(obj.name); // objëŠ” Personìœ¼ë¡œ ì¶”ë¡ ë¨
  } else {
    console.log(obj.type); // objëŠ” Animalë¡œ ì¶”ë¡ ë¨
  }
}
```

### instanceofë¥¼ ì‚¬ìš©í•œ íƒ€ì… ê°€ë“œ
> ë§Œì•½ ì•„ë˜ ì½”ë“œì˜ idì™€ ê°™ì´ ê³µí†µëœ ì†ì„±ì„ in íƒ€ì…ê°€ë“œë¡œ í™œìš©í•˜ê²Œ ë˜ë©´ íƒ€ì…ê°€ë“œì˜ ì—­í• ì„ í•˜ì§€ ëª»í•œë‹¤.

```typescript
interface Book {
  id: number;
  rank: number;
}

interface OnlineLecture {
  id: string;
  url: string;
}

function learnCourse(material: Book | OnlineLecture) : number | string {
  if (rank in material) {
    return material.rank; // materialëŠ” Book ì¶”ë¡ ë¨
  } else {
    return material.url; // objëŠ” OnlineLectureë¡œ ì¶”ë¡ ë¨
  }
  
  if(id in material){
  	console.log(material.id); //material.idëŠ” number|stringìœ¼ë¡œ ì¶”ë¡ ì´ ë˜ì–´, íƒ€ì… ê°€ë“œ ì—­í•  ëª»í•¨ ëª»í•˜ê²Œ ëœë‹¤.(ìë™ì™„ì„± ê¸°ëŠ¥ ì‚¬ìš© ë¶ˆê°€)
  }
}
```

## íƒ€ì… ê°€ë“œ í•¨ìˆ˜(ì‚¬ìš©ì ì •ì˜ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•œ íƒ€ì… ê°€ë“œ)

ì´ í•¨ìˆ˜ëŠ” ë¬¸ë²•ì´ë‚˜ êµ¬í˜„ëœ í•¨ìˆ˜ê°€ ì•„ë‹ˆë¼ ì‚¬ìš©ìê°€ ì§ì ‘ íƒ€ì…ì„ êµ¬ë³„í•˜ê¸° ìœ„í•œ í•¨ìˆ˜ë¥¼ ë§Œë“œëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤. is ë¬¸ë²•ì„ í™œìš©í•©ë‹ˆë‹¤.
> ë‘ê°œ interfaceê°€ ê³µí†µìœ¼ë¡œ idë¼ëŠ” ì†ì„±ì„ ê°€ì§€ê²Œ ëœë‹¤ë©´ inìœ¼ë¡œëŠ” êµ¬ë³„í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ë”°ë¼ì„œ íƒ€ì… ê°€ë“œ í•¨ìˆ˜ë¥¼ í†µí•´ ì¢€ ë” êµ¬ì²´ì ìœ¼ë¡œ íƒ€ì…ì„ êµ¬ë³„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```typescript
interface Car {
  brand: string;
  speed: number;
}

function isCar(vehicle: any): vehicle is Car {
  return "brand" in vehicle && "speed" in vehicle;
}

function displayVehicleInfo(vehicle: Car | { type: string }): void {
  if (isCar(vehicle)) {
    console.log(vehicle.brand, vehicle.speed); // vehicleì€ Carë¡œ ì¶”ë¡ ë¨
  } else {
    console.log(vehicle.type); // vehicleì€ { type: string }ìœ¼ë¡œ ì¶”ë¡ ë¨
  }
}
```

## êµ¬ë³„ëœ ìœ ë‹ˆì–¸ íƒ€ì…

ì†ì„±ì˜ íƒ€ì…ì€ íƒ€ì…(number, string...) ë¿ë§Œ ì•„ë‹ˆë¼ ì‹¤ì œ ê°’ìœ¼ë¡œë„ ì •ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŸ´ ê²½ìš° ì†ì„±ì˜ ìœ ë¬´ê°€ ì•„ë‹Œ ì‹¤ì œ ê°’ìœ¼ë¡œ êµ¬ë¶„ì„ í•˜ì—¬ íƒ€ì…ì„ êµ¬ë³„í•´ì•¼ í•©ë‹ˆë‹¤.

```typescript
type Shape = "square" | "circle";

interface Square {
  kind: "square";
  size: number;
}

interface Circle {
  kind: "circle";
  radius: number;
}

function calculateArea(shape: Shape, data: Square | Circle): number {
  if (shape === "square") {
    return data.size * data.size;
  } else {
    return Math.PI * data.radius * data.radius;
  }
}
```

